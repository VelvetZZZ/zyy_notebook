递归函数

这页PPT介绍的是Luhn算法，该算法用于验证信用卡号码的有效性。通过该算法可以检测信用卡号码是否符合一定的校验规则。

Luhn算法的步骤：
	1.	从最右侧的数字开始（这是校验数字），向左移动，对每个第二个数字进行乘2的操作。如果乘积大于9（例如7*2=14），则将该乘积的各位数相加（例如14 → 1+4=5）。这样做的目的是避免数值过大的情况，并且简化为每个数字的单个位数。
	2.	计算所有数字的和，并检查该和是否能被10整除。如果和是10的倍数，则表示该信用卡号是有效的。

示例：

在PPT中的例子中，信用卡号是1 3 8 7 4 3 2，按照Luhn算法的规则处理如下：
	•	步骤1：从右向左遍历：
	•	第2个数字：2 → 乘以2后为4。
	•	第4个数字：7 → 乘以2后为14，1+4=5。
	•	第6个数字：3 → 乘以2后为6。
	•	第8个数字：8 → 乘以2后为16，1+6=7。
这样，计算得到的数字序列是：
1, 3, 8, 7, 4, 3, 2 → 1, 3, 8, 5, 4, 3, 7.
	•	步骤2：将所有数字相加，得出总和为：
1 + 3 + 8 + 5 + 4 + 3 + 7 = 30。

最后，Luhn算法要求计算结果为10的倍数。在这个例子中，30不是10的倍数，因此该信用卡号无效。

与Mutual Recursion（互递归）的关系：
	•	Mutual Recursion是指两个或多个函数相互调用的递归。对于Luhn算法的应用，可以通过递归的方式来实现对信用卡号每一位的计算，而递归函数之间的调用就是典型的互递归。举个例子：
	•	一个递归函数负责从右到左遍历信用卡号中的数字，并进行乘2以及求和操作。
	•	另一个递归函数负责计算每一位数字的和，判断和是否为10的倍数。

通过这种递归结构，我们可以使用Python中的递归函数来简化Luhn算法的实现，同时帮助学生理解如何通过递归和互递归的思想来实现复杂的算法逻辑。

代码实现（示例）：

# 递归实现Luhn算法验证
def luhn_algorithm(card_number, index=-1, total_sum=0):
    if abs(index) > len(card_number):
        # 结束递归，返回总和
        return total_sum % 10 == 0
    
    digit = int(card_number[index])
    # 每隔一个数字乘以2
    if (len(card_number) + index) % 2 == 0:
        digit *= 2
        if digit > 9:
            digit = digit - 9  # 或者直接计算个位数
    total_sum += digit
    # 递归调用
    return luhn_algorithm(card_number, index-1, total_sum)

# 测试
card_number = "1387432"
if luhn_algorithm(card_number):
    print("有效的信用卡号")
else:
    print("无效的信用卡号")

总结：

通过Luhn算法的实现，我们可以帮助学生理解如何用递归思想解决实际问题。在此过程中，学生不仅能学会如何实现Luhn算法，还能通过实现递归和互递归进一步提升Python编程能力，掌握递归调用的技巧。

