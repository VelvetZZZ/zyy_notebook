# 学习笔记：Scheme 元编程与代码生成 (勾股定理案例)

## I. 核心目标
利用 Scheme 的**准引用 (Quasiquotation)** 机制，编写代码来**生成**勾股定理的数学表达式 `(+ (* a a) (* b b))`，而不是直接计算它的值。


## II. 解决方案代码

### 1. 定义“平方表达式”生成器
我们要定义一个函数，输入一个符号（如 `'a`），输出一段代码列表（如 `(* a a)`）。

```scheme
;; 填空：
;; 1. 使用 ` (反引号) 创建列表模板
;; 2. 使用 , (逗号) 插入 term 的值
(define (square-expr term)
  `(* ,term ,term))
```

### 2. 拼接完整的勾股定理公式
我们要构建最外层的加法结构，并将上面生成的子表达式插入进去。

1. 使用 ` (反引号) 创建加法模板 (+ ... ...)
2. 使用 , (逗号) 执行函数调用，并插入生成的列表
`(+ ,(square-expr 'a) ,(square-expr 'b))

最终输出结果 (一段代码/列表)：
(+ (* a a) (* b b))





## IV. 常见陷阱：符号 (Symbol) vs 变量 (Variable)
在使用这个函数时，传入参数必须小心：
正确写法：

```scheme
(square-expr 'a)
```

原理： 'a 是一个 Symbol (符号)。

过程： 函数接收到符号 'a，把它放入列表。

结果： (* a a)